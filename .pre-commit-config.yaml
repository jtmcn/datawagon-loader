repos:
  - repo: local
    hooks:
      - id: make-check
        name: Run pre-commit checks
        entry: make pre-commit
        language: system
        pass_filenames: false
        stages: [commit]
        # To skip during development: git commit --no-verify
      - id: requirements-sync
        name: Check requirements.txt sync
        entry: bash -c 'if command -v poetry >/dev/null 2>&1; then make requirements-check; else echo "ℹ Skipping requirements sync check (Poetry not installed - non-Poetry users don'\''t need this check)"; fi'
        language: system
        pass_filenames: false
        files: 'poetry.lock|pyproject.toml'
        stages: [commit]
      - id: shellcheck
        name: Shell script linting
        entry: bash -c 'if command -v shellcheck >/dev/null 2>&1; then shellcheck setup-venv.sh update-venv.sh update.sh; else echo "ℹ Skipping shellcheck (not installed)"; fi'
        language: system
        pass_filenames: false
        files: '\.sh$'
        stages: [commit] 
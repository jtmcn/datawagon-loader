repos:
  - repo: local
    hooks:
      - id: make-check
        name: Run pre-commit checks
        entry: make pre-commit
        language: system
        pass_filenames: false
        stages: [commit]
        # To skip during development: git commit --no-verify
      - id: requirements-sync
        name: Check requirements.txt sync
        entry: bash -c 'if command -v poetry >/dev/null 2>&1; then make requirements-check; else echo "Skipping requirements check (Poetry not available)"; fi'
        language: system
        pass_filenames: false
        files: 'poetry.lock|pyproject.toml'
        stages: [commit] 